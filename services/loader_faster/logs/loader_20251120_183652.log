2025-11-20 18:36:52,871 - main - INFO - Logging to file: logs/loader_20251120_183652.log
2025-11-20 18:39:07,476 - main - INFO - === Starting background article processing ===
2025-11-20 18:39:07,477 - main - INFO - Background task queued successfully
2025-11-20 18:39:07,477 - loader - INFO - === Starting chunk_embed_load - Method: recursive-split ===
2025-11-20 18:39:07,477 - loader - INFO - Using tables - Articles: articles_test, Vectors: chunks_vector_test
2025-11-20 18:39:07,573 - loader - INFO - VertexEmbeddings initialized - Project: newsjuice-123456, Location: us-central1, Model: text-embedding-004, Dim: 768
2025-11-20 18:39:09,564 - loader - INFO - Connected to database
2025-11-20 18:39:09,784 - loader - INFO - Fetched 3 articles with vflag=0
2025-11-20 18:39:09,784 - loader - INFO - [1/3] Processing article_id=DUMMY-1, title='Time for mandatory retirement ages for lawmakers, ...'
2025-11-20 18:39:09,787 - loader - INFO - [1/3] Created 23 chunks for article_id=DUMMY-1
2025-11-20 18:39:09,800 - loader - INFO - [1/3] Starting embedding for 23 chunks
2025-11-20 18:39:10,852 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:11,194 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:11,707 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:11,943 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:12,608 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:12,913 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:13,420 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:13,661 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:14,245 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:14,484 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:14,696 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:14,905 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:15,094 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:15,292 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:15,835 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:16,069 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:16,572 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:16,830 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:17,032 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:17,238 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:17,431 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:17,640 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:17,835 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:17,840 - loader - INFO - [1/3] Embedding completed
2025-11-20 18:39:17,840 - loader - INFO - [1/3] ✓ Article DUMMY-1 completed in 8.06s
2025-11-20 18:39:20,982 - loader - INFO - [1/3] Inserted 23 chunks into chunks_vector_test
2025-11-20 18:39:21,090 - loader - INFO - Updated vflag=1 for article_id=DUMMY-1
2025-11-20 18:39:21,091 - loader - INFO - [2/3] Processing article_id=DUMMY-2, title='In dogs, as in humans, a harsh past might bare its...'
2025-11-20 18:39:21,093 - loader - INFO - [2/3] Created 18 chunks for article_id=DUMMY-2
2025-11-20 18:39:21,098 - loader - INFO - [2/3] Starting embedding for 18 chunks
2025-11-20 18:39:21,292 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:21,484 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:21,674 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:21,874 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:22,077 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:22,278 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:22,559 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:22,752 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:22,942 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:23,143 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:23,341 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:23,532 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:23,724 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:23,915 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:24,199 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:24,391 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:24,583 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:24,776 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:24,780 - loader - INFO - [2/3] Embedding completed
2025-11-20 18:39:24,781 - loader - INFO - [2/3] ✓ Article DUMMY-2 completed in 3.69s
2025-11-20 18:39:27,098 - loader - INFO - [2/3] Inserted 18 chunks into chunks_vector_test
2025-11-20 18:39:27,208 - loader - INFO - Updated vflag=1 for article_id=DUMMY-2
2025-11-20 18:39:27,209 - loader - INFO - [3/3] Processing article_id=DUMMY-3, title='Brief bursts of wisdom...'
2025-11-20 18:39:27,211 - loader - INFO - [3/3] Created 28 chunks for article_id=DUMMY-3
2025-11-20 18:39:27,218 - loader - INFO - [3/3] Starting embedding for 28 chunks
2025-11-20 18:39:27,416 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:27,649 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:27,849 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:28,051 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:28,268 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:28,536 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:28,739 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:28,958 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:29,150 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:29,897 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:30,240 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:30,620 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:31,061 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:31,364 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:31,879 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:32,163 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:33,007 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:33,240 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:33,930 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:34,243 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:34,852 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:35,107 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:35,666 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:35,885 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:36,399 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:36,632 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:37,216 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:37,439 - httpx - INFO - HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/newsjuice-123456/locations/us-central1/publishers/google/models/text-embedding-004:predict "HTTP/1.1 200 OK"
2025-11-20 18:39:37,445 - loader - INFO - [3/3] Embedding completed
2025-11-20 18:39:37,445 - loader - INFO - [3/3] ✓ Article DUMMY-3 completed in 10.24s
2025-11-20 18:39:41,219 - loader - INFO - [3/3] Inserted 28 chunks into chunks_vector_test
2025-11-20 18:39:41,329 - loader - INFO - Updated vflag=1 for article_id=DUMMY-3
2025-11-20 18:39:41,332 - loader - INFO - Database connection closed
2025-11-20 18:39:41,333 - loader - INFO - === COMPLETED: Processed 3 articles, Total found: 3 ===
