/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
if(drupalSettings?.gsas_search?.indexname&&drupalSettings?.gsas_search?.appId&&drupalSettings?.gsas_search?.apiKey){jQuery('.open-search').on('click',(e)=>{if(e.target.getAttribute('aria-expanded')==='false')setTimeout(()=>{jQuery('#autocomplete-0-input').focus();},500);});jQuery(document).on('click',(e)=>{if(e.target!=jQuery('#left-off-canvas-news-search')&&jQuery('.aa-Panel').length)document.querySelector('.aa-Panel')?.remove();});window.addEventListener("scroll",()=>{if(jQuery('#news-menu .open-search').first()[0].getAttribute('aria-expanded')==='true')jQuery('#news-menu .open-search').click();});jQuery('.open-menu').on('click',(e)=>{if(jQuery('#news-menu .open-search').first()[0].getAttribute('aria-expanded')==='true')jQuery('#news-menu .open-search').click();});jQuery('.open-search').on('click',(e)=>{if(jQuery('#news-menu .open-menu').first()[0].getAttribute('aria-expanded')==='true')jQuery('#news-menu .open-menu').click();});const {autocomplete,getAlgoliaResults}=window["@algolia/autocomplete-js"];const searchClient=algoliasearch(drupalSettings?.gsas_search?.appId,drupalSettings?.gsas_search?.apiKey);['left'].forEach((x)=>{autocomplete({container:"#newsautocomplete--"+x,placeholder:"Search",onSubmit:(e)=>{window.location="/news/search?q="+e.state.query;},getSources({query}){return [{sourceId:"navSearchItems",getItemUrl({item}){return item.field_external_link?item.field_external_link:'/node/'+item.nid;},templates:{item({item,html,components}){const item_link=item.field_external_link?item.field_external_link:'/node/'+item.nid;return html`<a href="${item_link}"><div>${components.Highlight({hit:item,attribute:'title'})}</div><div>${components.Snippet({hit:item,attribute:'result_display'})}</div></a>`;},noResults(){return "No results";},footer({html,state}){return html`<a href="/news/search?q=${state.query}" tabindex="-1">View All Results</a>`;}},debug:true,getItems(){return getAlgoliaResults({searchClient,queries:[{indexName:drupalSettings?.gsas_search?.indexname,query,params:{hitsPerPage:5,filters:"gsas_search_content_type:News"}}]});}}];}});});setTimeout(()=>{let label=document.getElementById('autocomplete-1-label');if(label)label.innerHTML+="Search";},(timeout=1000));};
if(drupalSettings?.gsas_search?.indexname&&drupalSettings?.gsas_search?.appId&&drupalSettings?.gsas_search?.apiKey){document.getElementById('top-off-canvas-menu').addEventListener("scroll",()=>{if(document.querySelector('.aa-Panel')){document.querySelector('.aa-Panel').remove();document.querySelector('body').classList.remove('freeze-scroll');}});document.getElementById('autocomplete').addEventListener("mousedown",()=>{document.querySelector('body').classList.add('freeze-scroll');});document.getElementById('close-menu').addEventListener("mousedown",()=>{document.querySelector('body').classList.remove('freeze-scroll');});document.addEventListener("keydown",function(event){if(event.key=="Escape")document.querySelector('body').classList.remove('freeze-scroll');});const {autocomplete,getAlgoliaResults}=window["@algolia/autocomplete-js"];const searchClient=algoliasearch(drupalSettings?.gsas_search?.appId,drupalSettings?.gsas_search?.apiKey);autocomplete({container:"#autocomplete",placeholder:"Search",onSubmit:(e)=>{window.location="/search?q="+e.state.query;},getSources({query}){return [{sourceId:"navSearchItems",getItemUrl({item}){return item.field_external_link?item.field_external_link:'/node/'+item.nid;},templates:{item({item,html,components}){const item_link=item.field_external_link?item.field_external_link:'/node/'+item.nid;return html`<a href="${item_link}"><div>${components.Highlight({hit:item,attribute:'title'})}</div><div>${components.Snippet({hit:item,attribute:'result_display'})}</div></a>`;},noResults(){return "No results";},footer({html,state}){return html`<a href="/search?q=${state.query}" tabindex="-1">View All Results</a>`;}},debug:true,getItems(){return getAlgoliaResults({searchClient,queries:[{indexName:drupalSettings?.gsas_search?.indexname,query,params:{hitsPerPage:5}}]});}}];}});setTimeout(()=>{let label=document.getElementById('autocomplete-0-label');if(label)label.innerHTML+="Search";},(timeout=1000));};
(function($,Drupal){Drupal.behaviors.foundationTopBarActive={attach:function(context,settings){var $active_links=$(context).find('.top-bar .menu-item > a.is-active');if($active_links.length)$(once('foundationTopBarActive',$active_links)).each(function(){$(this).parent().addClass('active');});}};})(jQuery,Drupal);;
